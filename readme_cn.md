# STM32 轮腿式机器人

[English document](readme.md)

**声明**：本项目基于穆世博同学的开源项目 [Micro-Wheeled_leg-Robot](https://github.com/MuShibo/Micro-Wheeled_leg-Robot) 进行开发。

**未修改部分**：
- 机械结构

**主要修改内容**：
- PCB 设计
- 源代码

---

## 1. PCB 文件

原项目采用[立创EDA](https://lceda.cn/)设计，共包含四块PCB板。本次修改涉及其中两块：

- **ControllerPCB → CONTROL_STM32F407**  
  使用 STM32F407 替代原有的 ESP32，并将总线串口相关电路改为逻辑门电路。

- **IMUPCB → IMU_ESP8266**  
  将 MPU6050 模块改为贴片式封装，并加入 ESP8266 模块以实现无线通信。

---

## 2. 源代码

- 已将部分原项目代码重构为 C 语言，目前正处于直立平衡调试阶段。
- 使用 STM32CubeMX 对 STM32 进行配置，项目使用 gcc 进行编译。
- 使用 ESP8266 作为 STM32 的通信模块，调试时采用 STA Client 模式。
- 将大部分 USART、I2C 通信改为 DMA 传输方式，以减少 CPU 阻塞。
- 陀螺仪与编码器的驱动工作正常，数据通过定时器以 1ms 周期进行采集。鉴于两者共享同一总线，需交替读取数据，因此不建议使用更高的采集频率，以避免总线冲突。

---

## 无能的丈夫

- 由于个人能力限制，在长达两个月的调试中未能通过 PID 控制实现稳定平衡，因此决定暂停本项目。
- 如果有朋友感兴趣研究的话，可以将配套的硬件赠与进行研究。

---

## 开源贡献者

- 穆世博
- 李育锋

感谢开源，还是学到了不少东西